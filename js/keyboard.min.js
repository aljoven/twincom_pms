/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/keyboard-js@1.1.4/keyboard.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var Keyboard=function(){function t(){this.keys={},this.register_list={},this.state={},this.statistic={},this.specialKeyString={altKey:"Alt",ctrlKey:"Control",metaKey:"Meta",shiftKey:"Shift"}}t.prototype.listen=function(t,e){var n=this.option,o=document;n.element&&"function"==typeof n.element.addEventListener&&(o=n.element),o.addEventListener("keydown",function(e){this.keydown(e,t)}.bind(this),!1),o.addEventListener("keyup",function(t){this.keyup(t,e)}.bind(this),!1)},t.prototype.unlisten=function(){var t=this.option,e=document;t.element&&"function"==typeof t.element.removeEventListener&&(e=t.element),e.removeEventListener("keydown",(function(){})),e.removeEventListener("keyup",(function(){}))},t.prototype.test=function(t){return this.testRegisters(t)},t.prototype.testRegisters=function(t){for(var e=this.register_list,n=Object.getOwnPropertySymbols(e),o=this.testKeys.bind(this),i={},r=0,s=n.length;r<s;r++){var a=n[r],y=e[a],p=y[0],c=y[1];if(o(p))return c&&"function"==typeof c&&(t.clearKeys=this.clearKeys.bind(this),c(t)),i[a]=!0,i}return i},t.prototype.testKeys=function(t){for(var e=[],n=!1,o=0,i=t.length;o<i;o++){var r=t[o],s=Object.keys(this.keys),a=[],y=0;if(s.forEach(function(t,e){this.keys[t]&&a.push(t)}.bind(this)),!0===this.option.DEBUG){var p=a.map((function(t,e){return" "===t?"Space":t})).join(" ");console.log("["+Date.now()+"] You hit key: %c"+p,"color: #ea4335; font-size: 16px")}if(a.length!==r.length)y=!1;else{for(var c=0,u=r.length;c<u;c++)if(a.indexOf(r[c])<0){y=!1;break}c===r.length&&!1!==y&&(y=!0)}e.push(y)}return e.forEach((function(t,e){!0===t&&(n=!0)})),n},t.prototype.keydown=function(t,e){var n,o=t.key,i=!0;Array.prototype.map;return this.keys[o]="keydown"===t.type,n=this.test(t),Object.keys(n).forEach((function(t,e){!0===n[t]&&(i=!1)})),this.state=n,i||(t.preventDefault(),t.stopPropagation()),this.collect(t.key,t.type,t.timeStamp),"function"==typeof e&&e(t),i},t.prototype.keyup=function(t,e){var n=t.key;return this.keys[n]=!1,this.collect(t.key,t.type,t.timeStamp),"function"==typeof e&&e(t),!0},t.prototype.collect=function(t,e,n){var o=this.statistic[t],i=window.CustomEvent?new CustomEvent("test").timeStamp:document.createEvent("KeyboardEvent").timeStamp;void 0===o&&(o=this.statistic[t]={count:0,total:0,average:0}),"keydown"===e?o.downTimeStamp=n||i:"keyup"===e&&(o.count=o.count+1,o.upTimeStamp=n||i,o.total=o.upTimeStamp-o.downTimeStamp+o.total,o.total=+o.total.toFixed(2)||0,o.average=o.total/o.count)},t.prototype.register=function(t,e){if("string"!=typeof t)throw new Error("[from keyboard-js] Please input a register name.");var n;if(n="undefined"!=typeof Symbol?Symbol.for(t):t,this.register_list[n])throw new Error("[from keyboard-js] The Register["+t+"] has existed!");var o=Array.prototype.slice.call(arguments,2);o[0]instanceof Array||(o=[o]),this.register_list[n]=[o,e]},t.prototype.clearRegister=function(t){delete this.register_list[t]},t.prototype.clearRegisterAll=function(){this.register_list={}},t.prototype.clearKeys=function(){this.keys={}};var e=new t,n={start:function(t,n){e.listen(t,n)},end:function(){e.unlisten(),e.clearRegisterAll(),e.clearKeys()},register:function(){e.register.apply(e,arguments)},unregister:function(){e.clearRegister.apply(e,arguments)},getStatistic:function(){return e.statistic},__keydown:function(){e.keydown.apply(e,arguments)},__keyup:function(){e.keyup.apply(e,arguments)}};return function(t){return e.option=t||{},"object"==typeof window&&window.addEventListener("focus",(function(){e.keys={}}),!1),n}}();if("undefined"!=typeof exports)exports.Keyboard=Keyboard;else if("function"==typeof define)define("Keyboard",[],(function(){return Keyboard}));else{if(void 0!==window.Keyboard)throw new Error("Library Keyboard has existed! Loaded failed.");window.Keyboard=Keyboard}
//# sourceMappingURL=/sm/acf6fc0e1640987e738e62c36a86871a70cc5ef173588e65da258a4fcc2e4d2d.map